# Deploy to Development Environment
# This workflow only runs when manually triggered
# For automatic deployment, configure AWS_ROLE_ARN secret

name: Deploy to Dev

on:
  workflow_dispatch:
    inputs:
      confirm:
        description: 'Type "deploy" to confirm deployment'
        required: true
        default: ''

env:
  AWS_REGION: us-east-1
  ENVIRONMENT: dev
  TERRAFORM_VERSION: "1.5.0"

jobs:
  deploy:
    name: Deploy Infrastructure
    runs-on: ubuntu-latest
    if: github.event.inputs.confirm == 'deploy'
    
    steps:
      - name: Deployment Notice
        run: |
          echo "============================================"
          echo "MANUAL DEPLOYMENT MODE"
          echo "============================================"
          echo ""
          echo "This workflow requires AWS credentials to be configured."
          echo ""
          echo "To enable automated deployments:"
          echo "1. Go to Settings > Secrets and variables > Actions"
          echo "2. Add AWS_ROLE_ARN or AWS access keys"
          echo ""
          echo "For now, deploy manually using:"
          echo "  cd infrastructure/terraform"
          echo "  terraform apply -var-file=environments/dev.tfvars"
          echo ""
          echo "============================================"
